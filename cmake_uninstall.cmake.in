if(NOT TARGET uninstall)
    return()
endif()

get_directory_property(ALL_TARGETS BUILDSYSTEM_TARGETS)
list(REMOVE_ITEM ALL_TARGETS uninstall)

foreach(target ${ALL_TARGETS})
    get_target_property(target_type ${target} TYPE)
    if(target_type STREQUAL "EXECUTABLE" OR target_type STREQUAL "SHARED_LIBRARY" OR target_type STREQUAL "MODULE_LIBRARY")
        get_target_property(loc ${target} LOCATION)
        message(STATUS "Removing ${loc}")
        file(REMOVE ${loc})
    endif()
endforeach()